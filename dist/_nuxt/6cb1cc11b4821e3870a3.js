(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1081:function(t,e,n){var content=n(1089);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(114).default)("e46b6ba2",content,!0,{sourceMap:!1})},1083:function(t,e,n){var content=n(1094);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(114).default)("2e107364",content,!0,{sourceMap:!1})},1087:function(t,e,n){t.exports=n.p+"img/9172fcb.png"},1088:function(t,e,n){"use strict";var o=n(1081);n.n(o).a},1089:function(t,e,n){(e=n(113)(!1)).push([t.i,".logo{width:210px;height:42px;fill:#4a6786}",""]),t.exports=e},1093:function(t,e,n){"use strict";var o=n(1083);n.n(o).a},1094:function(t,e,n){(e=n(113)(!1)).push([t.i,".container{margin:0 auto;min-height:100vh;position:relative;overflow:hidden;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;text-align:center}.title{font-family:Quicksand,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px;line-height:1;margin-bottom:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:text}.selected{background:#4393fc;color:#fff;padding:16px 0}.subtitle{font-weight:300;font-size:22px;color:#526488;word-spacing:5px;padding-bottom:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:text}.logo{margin-top:20px;cursor:pointer}.name{position:fixed;top:20px;left:20px;text-align:left}.name>input{border:2px solid;font-weight:700;padding:0 3px;font-size:20px;color:#000}.name__info{text-align:left;margin-top:20px}.strong{font-weight:700}.cursor{position:absolute;left:0;right:0;bottom:0;top:0;margin:auto;width:10px;height:10px;pointer-events:none}.cursor__name{border:1px solid #00f;width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:0 2px;position:relative;left:18px;bottom:9px;font-size:10px;font-weight:700;background:hsla(0,0%,100%,.6)}.furueru{-webkit-animation:furueru .05s ease-in-out infinite alternate;animation:furueru .05s ease-in-out infinite alternate}@-webkit-keyframes furueru{0%{-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}to{-webkit-transform:rotate(3deg);transform:rotate(3deg)}}@keyframes furueru{0%{-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}to{-webkit-transform:rotate(3deg);transform:rotate(3deg)}}.author{position:fixed;right:20px;bottom:20px}",""]),t.exports=e},1095:function(t,e,n){"use strict";n.r(e);n(166),n(249),n(250),n(46),n(1088);var o=n(85),r=Object(o.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"logo",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"115.96",height:"23.24",viewBox:"0 0 115.96 23.24"}},[n("title",[t._v("アセット 1")]),t._v(" "),n("path",{attrs:{d:"M3.38,22.3A16.63,16.63,0,0,1,0,11.82,16.71,16.71,0,0,1,3.38,1.26H4.93A17,17,0,0,0,1.67,11.85,17.19,17.19,0,0,0,4.93,22.3Z"}}),t._v(" "),n("path",{attrs:{d:"M10.46,22.3A16.57,16.57,0,0,1,7.08,11.82,16.71,16.71,0,0,1,10.46,1.26H12A17,17,0,0,0,8.74,11.85,17.2,17.2,0,0,0,12,22.3Z"}}),t._v(" "),n("path",{attrs:{d:"M17.53,22.3a16.64,16.64,0,0,1-3.37-10.48A16.78,16.78,0,0,1,17.53,1.26h1.56a17,17,0,0,0-3.27,10.59A17.2,17.2,0,0,0,19.09,22.3Z"}}),t._v(" "),n("path",{attrs:{d:"M31.64,19.49A40.85,40.85,0,0,0,32.83,14l2.72-.37a32.19,32.19,0,0,1-2.15,5.6ZM35.57,5A1.56,1.56,0,1,1,34,3.4,1.55,1.55,0,0,1,35.57,5Z"}}),t._v(" "),n("path",{attrs:{d:"M48.42,5A2.47,2.47,0,0,1,46,2.47,2.45,2.45,0,0,1,48.42,0a2.48,2.48,0,1,1,0,5ZM46.67,2.47A1.77,1.77,0,1,0,48.42.71,1.77,1.77,0,0,0,46.67,2.47Z"}}),t._v(" "),n("path",{attrs:{d:"M66.14,1.76H77.8V17.65l1.44,0-.13,5.57H77.62l-.11-4.07H64.18L64,23.24H62.56l-.14-5.57,1.28,0c1.64-3.22,2.44-5.28,2.44-11.51Zm1.78,1.57V6.78c0,5.71-1,8.45-2.26,10.82H76V3.33Z"}}),t._v(" "),n("path",{attrs:{d:"M85.64,5a2.48,2.48,0,1,1,2.49-2.48A2.48,2.48,0,0,1,85.64,5ZM83.88,2.47A1.77,1.77,0,1,0,85.64.71,1.78,1.78,0,0,0,83.88,2.47Z"}}),t._v(" "),n("path",{attrs:{d:"M98.45,1.26a16.68,16.68,0,0,1,3.35,10.52A16.77,16.77,0,0,1,98.45,22.3H96.89a17.24,17.24,0,0,0,3.27-10.54,17.09,17.09,0,0,0-3.27-10.5Z"}}),t._v(" "),n("path",{attrs:{d:"M105.52,1.26a16.68,16.68,0,0,1,3.36,10.52,16.7,16.7,0,0,1-3.36,10.52H104a17.24,17.24,0,0,0,3.26-10.54A17.09,17.09,0,0,0,104,1.26Z"}}),t._v(" "),n("path",{attrs:{d:"M112.6,1.26A16.68,16.68,0,0,1,116,11.78,16.76,16.76,0,0,1,112.6,22.3h-1.55a17.24,17.24,0,0,0,3.26-10.54,17.09,17.09,0,0,0-3.26-10.5Z"}})])}),[],!1,null,null,null).exports,l=n(1090),c=n.n(l);n(1091);c.a.initializeApp({databaseURL:"https://multi-website-5a672.firebaseio.com/"});var d=c.a.database(),f=function(t){d.ref("users/".concat(t)).remove()},v=function(t,e){d.ref("hover/".concat(t)).set({isHover:e})},m=function(t,e,n){d.ref("text/".concat(t)).set({startIndex:e,endIndex:n})},h={components:{Logo:r},data:function(){return{userId:Math.random().toString(36).substr(2,9),name:"anonymous",users:{},isGkbrHover:!1,selectedTitleStart:-1,selectedTitleEnd:-1,selectedSubTitleStart:-1,selectedSubTitleEnd:-1,titlePositions:[],subTitlePositions:[],isTitleDragging:!1,isSubTitleDragging:!1}},methods:{onGkbrMouseOver:function(){v("gkbr",!0)},onGkbrMouseLeave:function(){v("gkbr",!1)},onTitleMouseDown:function(t){this.isTitleDragging=!0;var e=t.clientX-innerWidth/2,n=this.checkIndex(this.titlePositions,e);m("title",n,n)},onSubTitleMouseDown:function(t){this.isSubTitleDragging=!0;var e=t.clientX-innerWidth/2,n=this.checkIndex(this.subTitlePositions,e);m("subTitle",n,n)},checkIndex:function(t,e){var n=0;return t.forEach((function(t,i){t<e&&(n=i)})),n},gaEvent:function(t){this.$gtag("event","click",{event_category:t})}},mounted:function(){var t=this;this.titlePositions=this.$refs.title.map((function(t){return t.offsetLeft-innerWidth/2})),this.subTitlePositions=this.$refs.subTitle.map((function(t){return t.offsetLeft-innerWidth/2}));var e,n=performance.now(),o=function(e,o){performance.now()-n<1e3/30||(n=performance.now(),function(t,e,n,o){d.ref("users/".concat(t)).set({name:e,x:n,y:o})}(t.userId,t.name,e,o))};e=function(e){t.users=e},d.ref("users").on("value",(function(t){e(t.val())})),function(t){d.ref("hover").on("value",(function(e){t(e.val())}))}((function(e){t.isGkbrHover=!!e.gkbr&&e.gkbr.isHover})),function(t){d.ref("text").on("value",(function(e){t(e.val())}))}((function(e){t.selectedTitleStart=e.title?e.title.startIndex:-1,t.selectedTitleEnd=e.title?e.title.endIndex:-1,t.selectedSubTitleStart=e.subTitle?e.subTitle.startIndex:-1,t.selectedSubTitleEnd=e.subTitle?e.subTitle.endIndex:-1})),window.addEventListener("mousemove",(function(e){if(requestAnimationFrame((function(){return o(e.clientX-innerWidth/2,e.clientY-innerHeight/2)})),t.isTitleDragging){var n=e.clientX-innerWidth/2,r=t.checkIndex(t.titlePositions,n);m("title",t.selectedTitleStart,r)}if(t.isSubTitleDragging){var l=e.clientX-innerWidth/2,c=t.checkIndex(t.subTitlePositions,l);m("subTitle",t.selectedSubTitleStart,c)}})),window.addEventListener("mousedown",(function(e){t.isTitleDragging||m("title",-1,-1),t.isSubTitleDragging||m("subTitle",-1,-1)})),window.addEventListener("mouseup",(function(e){t.isTitleDragging=t.isSubTitleDragging=!1})),window.addEventListener("beforeunload",(function(){f(t.userId)}))},beforeDestroy:function(){f(this.userId)}},x=(n(1093),Object(o.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",[o("h1",{staticClass:"title",on:{mousedown:t.onTitleMouseDown}},t._l("cursor-chat",(function(s,i){return o("span",{key:i,ref:"title",refInFor:!0,class:{selected:t.selectedTitleStart<=i&&i<=t.selectedTitleEnd||t.selectedTitleEnd<=i&&i<=t.selectedTitleStart}},[t._v(t._s(s))])})),0),t._v(" "),o("h2",{staticClass:"subtitle",on:{mousedown:t.onSubTitleMouseDown}},t._l("左上から自分の名前を変えられます",(function(s,i){return o("span",{key:i,ref:"subTitle",refInFor:!0,class:{selected:t.selectedSubTitleStart<=i&&i<=t.selectedSubTitleEnd||t.selectedSubTitleEnd<=i&&i<=t.selectedSubTitleStart}},[t._v(t._s(s))])})),0),t._v(" "),o("logo",{staticClass:"logo",class:{furueru:t.isGkbrHover},nativeOn:{mouseover:function(e){return t.onGkbrMouseOver(e)},mouseleave:function(e){return t.onGkbrMouseLeave(e)}}})],1),t._v(" "),o("div",{staticClass:"name"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),o("div",{staticClass:"name__info"},[o("p",[t._v("現在の参加者："+t._s(Object.keys(t.users||{}).length)+" 人")]),t._v(" "),o("ul",t._l(t.users,(function(e,n){return o("li",{key:n,class:{strong:n===t.userId}},[t._v("\n          "+t._s(e.name)+"\n        ")])})),0)])]),t._v(" "),t._l(t.users,(function(e,r){return o("div",{directives:[{name:"show",rawName:"v-show",value:r!==t.userId,expression:"key !== userId"}],key:r,staticClass:"cursor",style:{transform:"translate("+e.x+"px,"+e.y+"px)"}},[o("img",{attrs:{src:n(1087),alt:""}}),t._v(" "),o("div",{staticClass:"cursor__name"},[t._v(t._s(e.name))])])})),t._v(" "),o("div",{staticClass:"author"},[t._v("\n    created by\n    "),o("a",{attrs:{href:"https://twitter.com/yumikokh",target:"_blank"},on:{click:function(e){return t.gaEvent("author")}}},[t._v("@yumikokh")])])],2)}),[],!1,null,null,null));e.default=x.exports}}]);
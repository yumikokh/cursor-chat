(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1081:function(e,t,n){var content=n(1089);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(114).default)("e46b6ba2",content,!0,{sourceMap:!1})},1083:function(e,t,n){var content=n(1094);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(114).default)("2e107364",content,!0,{sourceMap:!1})},1087:function(e,t,n){e.exports=n.p+"img/9172fcb.png"},1088:function(e,t,n){"use strict";var o=n(1081);n.n(o).a},1089:function(e,t,n){(t=n(113)(!1)).push([e.i,".NuxtLogo{-webkit-animation:appear 1s;animation:appear 1s}@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}",""]),e.exports=t},1093:function(e,t,n){"use strict";var o=n(1083);n.n(o).a},1094:function(e,t,n){(t=n(113)(!1)).push([e.i,".container{margin:0 auto;min-height:100vh;position:relative;overflow:hidden;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;text-align:center}.title{font-family:Quicksand,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px;margin-bottom:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:text}.selected{background:#4393fc;color:#fff;padding:16px 0}.subtitle{font-weight:300;font-size:24px;color:#526488;word-spacing:5px;padding-bottom:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:text}.logo{margin-top:20px;cursor:pointer}.name{position:fixed;top:20px;left:20px;text-align:left}.name>input{border:2px solid;font-weight:700;padding:0 3px;font-size:20px;color:#000}.name__info{text-align:left;margin-top:20px}.strong{font-weight:700}.cursor{position:absolute;left:0;right:0;bottom:0;top:0;margin:auto;width:10px;height:10px;pointer-events:none}.cursor__name{border:1px solid #00f;padding:0 2px;position:absolute;left:16px;bottom:-6px;font-size:10px;font-weight:700;background:hsla(0,0%,100%,.6)}.furueru{-webkit-animation:furueru .05s ease-in-out infinite alternate;animation:furueru .05s ease-in-out infinite alternate}@-webkit-keyframes furueru{0%{-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}to{-webkit-transform:rotate(3deg);transform:rotate(3deg)}}@keyframes furueru{0%{-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}to{-webkit-transform:rotate(3deg);transform:rotate(3deg)}}",""]),e.exports=t},1095:function(e,t,n){"use strict";n.r(t);n(166),n(249),n(250),n(46),n(1088);var o=n(85),r=Object(o.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"291.97",height:"175.21",viewBox:"0 0 291.97 175.21"}},[t("defs",[t("style",[this._v("\n      .a {\n        fill: #231815;\n      }\n    ")])]),this._v(" "),t("title",[this._v("アセット 1")]),this._v(" "),t("path",{staticClass:"a",attrs:{d:"M254.92,0C233.85,35.88,197,52.11,146,52.11S58.12,35.88,37.05,0C16,13.14,0,36.29,0,64.49,0,93.32,17.54,118.36,40.41,131,62.15,143.13,97.23,150.24,146,150.24s83.83-7.11,105.57-19.27C274.43,118.36,292,93.32,292,64.49,292,36.29,276,13.14,254.92,0Z"}}),this._v(" "),t("path",{staticClass:"a",attrs:{d:"M73,126.7l33.37-91.59c1.06-3.32-.6-5.44-3.28-5.44-3.33,0-5,1.59-6.21,4.85L63.3,126.7c-2.27,6.22-8.61,12-10.87,18.19l-8.84,24.26c-1.22,3.35.51,6.06,3.85,6.06h6.07c4.37,0,6.56-1.51,8.27-6.06L70,146.61C72.15,140.7,70.21,134.89,73,126.7Z"}}),this._v(" "),t("path",{staticClass:"a",attrs:{d:"M116.67,126.7,150,35.11c1.06-3.32-.61-5.44-3.29-5.44-3.32,0-5,1.59-6.2,4.85L107,126.7c-2.27,6.22-8.61,12-10.87,18.19l-8.85,24.26c-1.21,3.35.51,6.06,3.86,6.06h6.07c4.37,0,6.56-1.51,8.27-6.06l8.21-22.54C115.82,140.7,113.88,134.89,116.67,126.7Z"}}),this._v(" "),t("path",{staticClass:"a",attrs:{d:"M160.33,126.7,193.7,35.11c1.06-3.32-.61-5.44-3.29-5.44-3.31,0-5,1.59-6.19,4.85L150.63,126.7c-2.26,6.22-8.61,12-10.88,18.19l-8.83,24.26c-1.22,3.35.51,6.06,3.86,6.06h6.06c4.37,0,6.57-1.51,8.27-6.06l8.22-22.54C159.48,140.7,157.54,134.89,160.33,126.7Z"}})])}),[],!1,null,null,null).exports,l=n(1090),c=n.n(l);n(1091);c.a.initializeApp({databaseURL:"https://multi-website-5a672.firebaseio.com/"});var f=c.a.database(),d=function(e){f.ref("users/".concat(e)).remove()},m=function(e,t){f.ref("hover/".concat(e)).set({isHover:t})},v=function(e,t,n){f.ref("text/".concat(e)).set({startIndex:t,endIndex:n})},h={components:{Logo:r},data:function(){return{userId:Math.random().toString(36).substr(2,9),name:"anonymous",users:{},isKayacHover:!1,selectedTitleStart:-1,selectedTitleEnd:-1,selectedSubTitleStart:-1,selectedSubTitleEnd:-1,titlePositions:[],subTitlePositions:[],isTitleDragging:!1,isSubTitleDragging:!1}},methods:{onKayacMouseOver:function(){m("kayac",!0)},onKayacMouseLeave:function(){m("kayac",!1)},onTitleMouseDown:function(e){this.isTitleDragging=!0;var t=e.clientX-innerWidth/2,n=this.checkIndex(this.titlePositions,t);v("title",n,n)},onSubTitleMouseDown:function(e){this.isSubTitleDragging=!0;var t=e.clientX-innerWidth/2,n=this.checkIndex(this.subTitlePositions,t);v("subTitle",n,n)},checkIndex:function(e,t){var n=0;return e.forEach((function(e,i){e<t&&(n=i)})),n}},mounted:function(){var e=this;this.titlePositions=this.$refs.title.map((function(e){return e.offsetLeft-innerWidth/2})),this.subTitlePositions=this.$refs.subTitle.map((function(e){return e.offsetLeft-innerWidth/2}));var t,n=performance.now(),o=function(t,o){performance.now()-n<50||(n=performance.now(),function(e,t,n,o){f.ref("users/".concat(e)).set({name:t,x:n,y:o})}(e.userId,e.name,t,o))};t=function(t){e.users=t},f.ref("users").on("value",(function(e){t(e.val())})),function(e){f.ref("hover").on("value",(function(t){e(t.val())}))}((function(t){e.isKayacHover=!!t.kayac&&t.kayac.isHover})),function(e){f.ref("text").on("value",(function(t){e(t.val())}))}((function(t){e.selectedTitleStart=t.title?t.title.startIndex:-1,e.selectedTitleEnd=t.title?t.title.endIndex:-1,e.selectedSubTitleStart=t.subTitle?t.subTitle.startIndex:-1,e.selectedSubTitleEnd=t.subTitle?t.subTitle.endIndex:-1})),window.addEventListener("mousemove",(function(t){if(requestAnimationFrame((function(){return o(t.clientX-innerWidth/2,t.clientY-innerHeight/2)})),e.isTitleDragging){var n=t.clientX-innerWidth/2,r=e.checkIndex(e.titlePositions,n);v("title",e.selectedTitleStart,r)}if(e.isSubTitleDragging){var l=t.clientX-innerWidth/2,c=e.checkIndex(e.subTitlePositions,l);v("subTitle",e.selectedSubTitleStart,c)}})),window.addEventListener("mousedown",(function(t){e.isTitleDragging||v("title",-1,-1),e.isSubTitleDragging||v("subTitle",-1,-1)})),window.addEventListener("mouseup",(function(t){e.isTitleDragging=e.isSubTitleDragging=!1})),window.addEventListener("beforeunload",(function(){d(e.userId)}))},beforeDestroy:function(){d(this.userId)}},x=(n(1093),Object(o.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",[o("h1",{staticClass:"title",on:{mousedown:e.onTitleMouseDown}},e._l("cursor-chat",(function(s,i){return o("span",{key:i,ref:"title",refInFor:!0,class:{selected:e.selectedTitleStart<=i&&i<=e.selectedTitleEnd||e.selectedTitleEnd<=i&&i<=e.selectedTitleStart}},[e._v(e._s(s))])})),0),e._v(" "),o("h2",{staticClass:"subtitle",on:{mousedown:e.onSubTitleMouseDown}},e._l("左上から自分の名前を変えられます",(function(s,i){return o("span",{key:i,ref:"subTitle",refInFor:!0,class:{selected:e.selectedSubTitleStart<=i&&i<=e.selectedSubTitleEnd||e.selectedSubTitleEnd<=i&&i<=e.selectedSubTitleStart}},[e._v(e._s(s))])})),0),e._v(" "),o("logo",{staticClass:"logo",class:{furueru:e.isKayacHover},nativeOn:{mouseover:function(t){return e.onKayacMouseOver(t)},mouseleave:function(t){return e.onKayacMouseLeave(t)}}})],1),e._v(" "),o("div",{staticClass:"name"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),o("div",{staticClass:"name__info"},[o("p",[e._v("現在の参加者："+e._s(Object.keys(e.users||{}).length)+" 人")]),e._v(" "),o("ul",e._l(e.users,(function(t,n){return o("li",{key:n,class:{strong:n===e.userId}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0)])]),e._v(" "),e._l(e.users,(function(t,r){return o("div",{directives:[{name:"show",rawName:"v-show",value:r!==e.userId,expression:"key !== userId"}],key:r,staticClass:"cursor",style:{transform:"translate("+t.x+"px,"+t.y+"px)"}},[o("img",{attrs:{src:n(1087),alt:""}}),e._v(" "),o("div",{staticClass:"cursor__name"},[e._v(e._s(t.name))])])}))],2)}),[],!1,null,null,null));t.default=x.exports}}]);